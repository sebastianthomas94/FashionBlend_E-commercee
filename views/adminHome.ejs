<link rel="stylesheet" href="/styles/adminDashboard.css">

<div class="container">

    <h1 class="text-center">Sales Report</h1>

    
    <div class="container my-4 fadeIn">
        <div class="row">
            <div class="col-md-4">
                <label for="dateRange">Select Date Range:</label>
                <select id="dateRange" class="form-control">
                    <option value="daily">Daily</option>
                    <option value="weekly">Weekly</option>
                    <option value="monthly">Monthly</option>
                    <option value="custom">Custom</option>
                </select>
            </div>
        </div>
    
        <div class="row mt-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        Summary Statistics
                    </div>
                    <div class="card-body">
                        <p>Total Sales: ₹<span id="totalSales"></span></p>
                        <p>Total Orders: <span id="totalOrders"></span></p>
                        <p>Average Order Value: ₹<span id="averageOrder"></span></p>
                    </div>
                </div>
            </div>
    
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        Sales Graph
                    </div>
                    <div class="card-body">
                        <canvas id="salesChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="row mt-4">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        Detailed Sales
                    </div>
                    <div class="card-body">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Sl</th>
                                    <th>Customer Name</th>
                                    <th>Date/Time</th>
                                    <th>Product Details</th>
                                    <th>Quantity</th>
                                    <th>Unit Price</th>
                                    <th>Total Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <%for(let i in pastFiveOrders){%>
                                <tr>
                                    <td><%=parseInt(i)+1%></td>
                                    <td><%=pastFiveOrders[i].name%></td>
                                    <td><%=pastFiveOrders[i].orders.date+" "+pastFiveOrders[i].orders.time%></td>
                                    <td>
                                        <a href="/products/<%=pastFiveOrders[i].orders.id%>" target="_blank">link to product</a>
                                    </td>
                                    <td><%=pastFiveOrders[i].orders.numbers%></td>
                                    <td><%=pastFiveOrders[i].orders.amount/pastFiveOrders[i].orders.numbers%></td>
                                    <td><%=pastFiveOrders[i].orders.amount%></td>
                                </tr>
                                <%}%>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="row mt-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        Top Selling Products
                    </div>
                    <div class="card-body">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Product Name</th>
                                    <th>Quantity Sold</th>
                                    <th>Revenue Generated</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Product A</td>
                                    <td>10</td>
                                    <td>$500</td>
                                </tr>
                                <tr>
                                    <td>Product B</td>
                                    <td>8</td>
                                    <td>$640</td>
                                </tr>
                                <tr>
                                    <td>Product C</td>
                                    <td>5</td>
                                    <td>$150</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
    
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        Customer Insights
                    </div>
                    <div class="card-body">
                        <p>New Customers Acquired: 15</p>
                        <p>Customer Retention Rate: 80%</p>
                        <p>Average Order Frequency: 2.5</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/js/adminDashboard.js"></script>